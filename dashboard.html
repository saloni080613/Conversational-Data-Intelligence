<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DataChat â€” AI-Powered Data Analytics</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESIGN TOKENS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --bg-base:       #07090f;
  --bg-surface:    #0d1117;
  --bg-panel:      rgba(255,255,255,0.035);
  --bg-card:       rgba(255,255,255,0.05);
  --bg-hover:      rgba(255,255,255,0.08);
  --border:        rgba(255,255,255,0.08);
  --border-accent: rgba(99,102,241,0.45);

  --accent:        #6366f1;
  --accent-light:  #818cf8;
  --accent-glow:   rgba(99,102,241,0.18);
  --blue:          #3b82f6;
  --blue-glow:     rgba(59,130,246,0.18);
  --cyan:          #22d3ee;
  --amber:         #f59e0b;
  --green:         #10b981;
  --red:           #ef4444;

  --text-primary:  #f1f5f9;
  --text-secondary:#94a3b8;
  --text-muted:    #475569;

  --radius:        12px;
  --radius-sm:     8px;
  --radius-pill:   999px;

  --blur:          blur(18px);
  --shadow-card:   0 4px 24px rgba(0,0,0,0.45), 0 1px 0 rgba(255,255,255,0.05) inset;
  --shadow-glow:   0 0 40px rgba(99,102,241,0.12);

  --sidebar-w:     68px;
  --sidebar-w-exp: 220px;

  --transition:    all 0.2s cubic-bezier(0.4,0,0.2,1);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 15px; }
body {
  font-family: 'Inter', system-ui, sans-serif;
  background: var(--bg-base);
  color: var(--text-primary);
  min-height: 100vh;
  display: flex;
  overflow: hidden;
}

/* â”€â”€ Scrollbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SIDEBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sidebar {
  width: var(--sidebar-w);
  flex-shrink: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px 0 16px;
  background: var(--bg-panel);
  backdrop-filter: var(--blur);
  border-right: 1px solid var(--border);
  gap: 4px;
  position: relative;
  z-index: 100;
  transition: width 0.25s cubic-bezier(0.4,0,0.2,1);
}
.sidebar:hover { width: var(--sidebar-w-exp); }

/* Logo */
.sidebar-logo {
  width: 36px; height: 36px;
  background: linear-gradient(135deg, var(--accent), #4f46e5);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem; font-weight: 800; color: #fff;
  box-shadow: 0 0 20px rgba(99,102,241,0.45);
  flex-shrink: 0;
  margin-bottom: 28px;
}
.sidebar-logo-wrap {
  width: 100%;
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 10px;
  overflow: hidden;
  margin-bottom: 4px;
}
.sidebar-logo-name {
  font-size: 0.9rem; font-weight: 700;
  color: var(--text-primary);
  white-space: nowrap;
  opacity: 0; transition: opacity 0.2s;
}
.sidebar:hover .sidebar-logo-name { opacity: 1; }

/* Nav Items */
.nav-item {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 11px;
  padding: 10px 16px;
  cursor: pointer;
  border-radius: 0;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  color: var(--text-muted);
  font-size: 0.82rem;
  font-weight: 500;
  white-space: nowrap;
  text-decoration: none;
}
.nav-item .nav-icon { font-size: 1.05rem; flex-shrink: 0; width: 22px; text-align: center; }
.nav-item .nav-label { opacity: 0; transition: opacity 0.2s; }
.sidebar:hover .nav-item .nav-label { opacity: 1; }
.nav-item:hover { background: var(--bg-hover); color: var(--text-primary); }
.nav-item.active { color: var(--accent-light); }
.nav-item.active::before {
  content: '';
  position: absolute; left: 0; top: 50%; transform: translateY(-50%);
  width: 3px; height: 20px; background: var(--accent);
  border-radius: 0 4px 4px 0;
}

.nav-spacer { flex: 1; }

.nav-divider {
  width: 70%; height: 1px;
  background: var(--border);
  margin: 8px 0;
  flex-shrink: 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN AREA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.main {
  flex: 1;
  height: 100vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  background:
    radial-gradient(ellipse 70% 40% at 80% -10%, rgba(99,102,241,0.09) 0%, transparent 60%),
    radial-gradient(ellipse 50% 30% at 10% 90%, rgba(59,130,246,0.06) 0%, transparent 60%),
    var(--bg-surface);
}

/* â”€â”€ Top Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 28px;
  border-bottom: 1px solid var(--border);
  background: rgba(13,17,23,0.7);
  backdrop-filter: var(--blur);
  position: sticky; top: 0; z-index: 50;
}
.topbar-title {
  font-size: 0.88rem;
  font-weight: 600;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}
.topbar-crumb { color: var(--text-muted); font-weight: 400; }
.topbar-actions { display: flex; align-items: center; gap: 10px; }

.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 7px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--bg-card);
  color: var(--text-secondary);
  font-size: 0.78rem;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  font-family: inherit;
  white-space: nowrap;
}
.btn:hover {
  background: var(--bg-hover);
  border-color: rgba(255,255,255,0.15);
  color: var(--text-primary);
  transform: translateY(-1px);
}
.btn-primary {
  background: linear-gradient(135deg, var(--accent), #4f46e5);
  border-color: transparent;
  color: #fff;
  box-shadow: 0 2px 14px rgba(99,102,241,0.35);
}
.btn-primary:hover {
  background: linear-gradient(135deg, var(--accent-light), #6366f1);
  box-shadow: 0 4px 20px rgba(99,102,241,0.5);
  color: #fff;
}

/* Status pill */
.status-pill {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 4px 10px;
  border-radius: var(--radius-pill);
  font-size: 0.72rem; font-weight: 600;
  border: 1px solid;
}
.status-online  { background: rgba(16,185,129,0.1); color: #10b981; border-color: rgba(16,185,129,0.3); }
.status-offline { background: rgba(239,68,68,0.1);  color: #ef4444; border-color: rgba(239,68,68,0.3); }
.status-dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }
.status-online .status-dot { box-shadow: 0 0 6px currentColor; animation: pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.4;} }

/* Avatar */
.avatar {
  width: 30px; height: 30px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--blue));
  display: flex; align-items: center; justify-content: center;
  font-size: 0.72rem; font-weight: 700; color: #fff;
  border: 1.5px solid rgba(255,255,255,0.12);
  cursor: pointer;
}

/* â”€â”€ Content Area â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.content { padding: 28px; flex: 1; }

/* â”€â”€ Search Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.search-section { margin-bottom: 28px; }
.search-bar-wrap {
  position: relative;
  max-width: 820px;
  margin: 0 auto;
}
.search-glow {
  position: absolute;
  inset: -1px;
  border-radius: calc(var(--radius) + 2px);
  background: linear-gradient(90deg, var(--accent), var(--blue), var(--accent));
  background-size: 200%;
  animation: shimmer 3s linear infinite;
  opacity: 0;
  transition: opacity 0.3s;
}
.search-bar-wrap:focus-within .search-glow { opacity: 0.6; }
@keyframes shimmer { 0%{background-position:0%} 100%{background-position:200%} }

.search-bar {
  position: relative;
  display: flex;
  align-items: center;
  background: var(--bg-card);
  backdrop-filter: var(--blur);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px 18px;
  gap: 12px;
  box-shadow: var(--shadow-card);
  transition: var(--transition);
  z-index: 1;
}
.search-bar:focus-within {
  border-color: var(--border-accent);
  background: rgba(255,255,255,0.07);
  box-shadow: var(--shadow-card), 0 0 0 3px rgba(99,102,241,0.12);
}
.search-icon { font-size: 1rem; color: var(--accent-light); flex-shrink: 0; }
.search-input {
  flex: 1;
  background: none;
  border: none;
  outline: none;
  color: var(--text-primary);
  font-family: 'Inter', sans-serif;
  font-size: 0.95rem;
  font-weight: 400;
  placeholder-color: var(--text-muted);
}
.search-input::placeholder { color: var(--text-muted); }
.search-kbd {
  display: flex; align-items: center; gap: 3px;
  font-size: 0.68rem;
  color: var(--text-muted);
}
.kbd {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 4px;
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
}

.search-suggestions {
  display: flex; gap: 8px; flex-wrap: wrap;
  margin-top: 12px;
  justify-content: center;
}
.suggestion-chip {
  background: rgba(99,102,241,0.08);
  border: 1px solid rgba(99,102,241,0.2);
  border-radius: var(--radius-pill);
  padding: 4px 12px;
  font-size: 0.72rem;
  color: var(--accent-light);
  cursor: pointer;
  transition: var(--transition);
}
.suggestion-chip:hover {
  background: rgba(99,102,241,0.18);
  border-color: rgba(99,102,241,0.45);
  transform: translateY(-1px);
}

/* â”€â”€ Stats Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.stats-bar {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 14px;
  margin-bottom: 24px;
}
.stat-card {
  background: var(--bg-card);
  backdrop-filter: var(--blur);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px 18px;
  display: flex;
  align-items: center;
  gap: 14px;
  transition: var(--transition);
  cursor: default;
}
.stat-card:hover {
  background: var(--bg-hover);
  border-color: rgba(255,255,255,0.12);
  transform: translateY(-2px);
  box-shadow: var(--shadow-card);
}
.stat-icon {
  width: 38px; height: 38px;
  border-radius: var(--radius-sm);
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem;
  flex-shrink: 0;
}
.stat-icon.blue   { background: rgba(59,130,246,0.12);  color: var(--blue); }
.stat-icon.indigo { background: rgba(99,102,241,0.12);  color: var(--accent-light); }
.stat-icon.cyan   { background: rgba(34,211,238,0.12);  color: var(--cyan); }
.stat-icon.amber  { background: rgba(245,158,11,0.12);  color: var(--amber); }
.stat-value { font-size: 1.3rem; font-weight: 700; line-height: 1; }
.stat-label {
  font-size: 0.7rem; color: var(--text-muted);
  text-transform: uppercase; letter-spacing: 0.06em;
  margin-top: 2px;
}
.stat-delta {
  font-size: 0.68rem; font-weight: 500;
  margin-top: 3px;
}
.delta-up   { color: var(--green); }
.delta-none { color: var(--text-muted); }

/* â”€â”€ Main Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.main-grid {
  display: grid;
  grid-template-columns: 1fr 1.6fr;
  gap: 20px;
  align-items: start;
}

/* â”€â”€ Panel Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.panel-card {
  background: var(--bg-card);
  backdrop-filter: var(--blur);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-card);
  overflow: hidden;
}
.panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border);
}
.panel-title {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  display: flex;
  align-items: center;
  gap: 7px;
}
.panel-badge {
  background: rgba(99,102,241,0.12);
  border: 1px solid rgba(99,102,241,0.2);
  color: var(--accent-light);
  font-size: 0.65rem;
  font-weight: 600;
  padding: 2px 7px;
  border-radius: var(--radius-pill);
}
.panel-action {
  font-size: 0.72rem;
  color: var(--accent-light);
  cursor: pointer;
  transition: var(--transition);
}
.panel-action:hover { color: var(--text-primary); }

/* â”€â”€â”€ Upload Zone â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.upload-zone {
  margin: 18px;
  border: 2px dashed rgba(99,102,241,0.3);
  border-radius: var(--radius);
  padding: 28px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  background: rgba(99,102,241,0.03);
}
.upload-zone:hover {
  border-color: rgba(99,102,241,0.6);
  background: rgba(99,102,241,0.07);
}
.upload-zone:hover .upload-icon { transform: scale(1.12) translateY(-2px); }
.upload-icon { font-size: 2rem; transition: transform 0.25s; }
.upload-title { font-size: 0.85rem; font-weight: 600; color: var(--text-primary); }
.upload-sub { font-size: 0.72rem; color: var(--text-muted); text-align: center; }
.upload-formats {
  display: flex; gap: 6px; margin-top: 4px;
}
.format-chip {
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 2px 7px;
  font-size: 0.62rem;
  font-weight: 600;
  color: var(--text-muted);
  font-family: 'JetBrains Mono', monospace;
}

/* Uploaded file row */
.file-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0 18px 18px;
  background: rgba(16,185,129,0.06);
  border: 1px solid rgba(16,185,129,0.2);
  border-radius: var(--radius-sm);
  padding: 10px 14px;
}
.file-icon { font-size: 1.1rem; }
.file-name { font-size: 0.8rem; font-weight: 500; flex: 1; }
.file-size { font-size: 0.7rem; color: var(--text-muted); }
.file-remove {
  width: 20px; height: 20px;
  border-radius: 50%;
  background: rgba(239,68,68,0.1);
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem; color: #ef4444; cursor: pointer;
  transition: var(--transition);
}
.file-remove:hover { background: rgba(239,68,68,0.25); }

/* â”€â”€ Schema Badges â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.schema-section { padding: 0 18px 18px; }
.schema-label { font-size: 0.68rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 8px; }
.badges-grid { display: flex; flex-wrap: wrap; gap: 5px; }
.badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 10px;
  border-radius: var(--radius-pill);
  font-size: 0.68rem; font-weight: 500;
  cursor: default;
  transition: var(--transition);
}
.badge:hover { transform: scale(1.05); }
.badge-cyan   { background: rgba(34,211,238,0.08);  color: #22d3ee; border: 1px solid rgba(34,211,238,0.2); }
.badge-amber  { background: rgba(245,158,11,0.08);  color: #f59e0b; border: 1px solid rgba(245,158,11,0.2); }
.badge-green  { background: rgba(16,185,129,0.08);  color: #10b981; border: 1px solid rgba(16,185,129,0.2); }
.badge-red    { background: rgba(239,68,68,0.08);   color: #f87171; border: 1px solid rgba(239,68,68,0.2);  }

/* â”€â”€ Insights Accordion â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.insight-list { padding: 8px 0; }
.insight-item {
  border-bottom: 1px solid var(--border);
  transition: background 0.2s;
}
.insight-item:last-child { border-bottom: none; }
.insight-header {
  display: flex; align-items: center; gap: 10px;
  padding: 13px 20px;
  cursor: pointer;
  transition: var(--transition);
}
.insight-header:hover { background: var(--bg-hover); }
.insight-toggle {
  width: 18px; height: 18px;
  border-radius: 5px;
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-size: 0.55rem; color: var(--text-muted);
  flex-shrink: 0;
  transition: var(--transition);
}
.insight-item.open .insight-toggle {
  background: rgba(99,102,241,0.12);
  border-color: rgba(99,102,241,0.3);
  color: var(--accent-light);
}
.insight-num {
  width: 20px; height: 20px;
  border-radius: 6px;
  background: rgba(99,102,241,0.1);
  border: 1px solid rgba(99,102,241,0.2);
  color: var(--accent-light);
  font-size: 0.62rem; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.insight-q {
  font-size: 0.82rem; font-weight: 500;
  color: var(--text-primary);
  flex: 1;
}
.insight-body {
  padding: 0 20px 14px 52px;
  font-size: 0.8rem;
  color: var(--text-secondary);
  line-height: 1.65;
  display: none;
}
.insight-item.open .insight-body { display: block; }
.insight-highlight {
  display: inline-block;
  background: rgba(99,102,241,0.1);
  border-radius: 4px;
  padding: 0 5px;
  color: var(--accent-light);
  font-weight: 500;
}

/* â”€â”€ Visual Output Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.visual-panel { display: flex; flex-direction: column; gap: 20px; }

/* Chart placeholder */
.chart-area {
  position: relative;
  min-height: 320px;
  display: flex;
  flex-direction: column;
}
.chart-tabs {
  display: flex;
  gap: 2px;
  padding: 14px 20px 0;
}
.chart-tab {
  padding: 6px 14px;
  border-radius: var(--radius-sm) var(--radius-sm) 0 0;
  font-size: 0.75rem; font-weight: 500;
  color: var(--text-muted);
  cursor: pointer;
  transition: var(--transition);
  border: 1px solid transparent;
  border-bottom: none;
}
.chart-tab:hover { color: var(--text-secondary); }
.chart-tab.active {
  background: rgba(99,102,241,0.08);
  border-color: var(--border-accent);
  color: var(--accent-light);
}
.chart-body { padding: 20px; flex: 1; }

/* Fake bar chart */
.fake-chart {
  display: flex;
  flex-direction: column;
  gap: 14px;
  height: 220px;
  justify-content: flex-end;
  position: relative;
  padding-bottom: 28px;
}
.chart-grid-lines {
  position: absolute; inset: 0;
  display: flex; flex-direction: column; justify-content: space-between;
  pointer-events: none;
}
.grid-line {
  border-top: 1px dashed rgba(255,255,255,0.04);
  font-size: 0.6rem;
  color: var(--text-muted);
  padding-left: 4px;
}
.bars-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  height: 190px;
  padding-top: 16px;
  position: relative;
  z-index: 1;
}
.bar-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  height: 100%;
  justify-content: flex-end;
}
.bar {
  width: 100%;
  border-radius: 4px 4px 0 0;
  position: relative;
  transition: filter 0.2s, transform 0.2s;
  cursor: pointer;
}
.bar:hover { filter: brightness(1.2); transform: scaleY(1.03); transform-origin: bottom; }
.bar-label { font-size: 0.58rem; color: var(--text-muted); }
.bar-tooltip {
  position: absolute;
  top: -28px; left: 50%; transform: translateX(-50%);
  background: var(--accent);
  color: #fff;
  font-size: 0.62rem; font-weight: 600;
  padding: 2px 7px;
  border-radius: 4px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.15s;
  pointer-events: none;
}
.bar:hover .bar-tooltip { opacity: 1; }
.bar.b1 { background: linear-gradient(180deg, var(--accent), #4338ca); }
.bar.b2 { background: linear-gradient(180deg, var(--blue), #1d4ed8); }
.bar.b3 { background: linear-gradient(180deg, var(--cyan), #0891b2); }

/* Line chart skeleton */
.line-chart-wrap { padding: 0 20px 20px; }

/* â”€â”€ Chat History â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.chat-panel { display: flex; flex-direction: column; height: 300px; }
.chat-messages { flex: 1; overflow-y: auto; padding: 16px 20px; display: flex; flex-direction: column; gap: 12px; }
.chat-bubble-wrap-user { display: flex; justify-content: flex-end; }
.chat-bubble-wrap-ai   { display: flex; justify-content: flex-start; }
.chat-label {
  font-size: 0.62rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.06em;
  margin-bottom: 4px;
}
.chat-label-user { color: var(--accent-light); text-align: right; }
.chat-label-ai   { color: var(--green); }
.chat-bubble-user {
  background: linear-gradient(135deg, rgba(99,102,241,0.15), rgba(79,70,229,0.1));
  border: 1px solid rgba(99,102,241,0.25);
  border-radius: 14px 14px 4px 14px;
  padding: 10px 14px;
  font-size: 0.82rem;
  color: var(--text-primary);
  max-width: 78%;
  line-height: 1.5;
}
.chat-bubble-ai {
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border);
  border-radius: 14px 14px 14px 4px;
  padding: 10px 14px;
  font-size: 0.82rem;
  color: var(--text-secondary);
  max-width: 84%;
  line-height: 1.5;
}
.code-snip {
  background: rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 6px;
  padding: 8px 10px;
  margin-top: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  color: #7dd3fc;
  line-height: 1.6;
}
.code-snip .kw { color: #c084fc; }
.code-snip .fn { color: #67e8f9; }
.code-snip .str { color: #86efac; }

/* Chat input */
.chat-input-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  border-top: 1px solid var(--border);
  background: rgba(0,0,0,0.15);
}
.chat-input {
  flex: 1;
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 9px 14px;
  color: var(--text-primary);
  font-family: 'Inter', sans-serif;
  font-size: 0.82rem;
  outline: none;
  transition: var(--transition);
}
.chat-input::placeholder { color: var(--text-muted); }
.chat-input:focus {
  border-color: var(--border-accent);
  background: rgba(99,102,241,0.06);
  box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
}
.chat-send {
  width: 34px; height: 34px;
  border-radius: var(--radius-sm);
  background: linear-gradient(135deg, var(--accent), #4338ca);
  border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.85rem; color: #fff;
  transition: var(--transition);
  box-shadow: 0 2px 12px rgba(99,102,241,0.35);
}
.chat-send:hover { transform: scale(1.08); box-shadow: 0 4px 18px rgba(99,102,241,0.5); }

/* â”€â”€ Right sidebar â€” query history â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.right-bar {
  position: fixed; right: 0; top: 0; height: 100vh;
  width: 220px;
  background: var(--bg-panel);
  backdrop-filter: var(--blur);
  border-left: 1px solid var(--border);
  display: flex; flex-direction: column;
  padding: 20px 0;
  z-index: 80;
  transform: translateX(200px);
  transition: transform 0.25s cubic-bezier(0.4,0,0.2,1);
}
.right-bar:hover { transform: translateX(0); }
.right-bar-handle {
  position: absolute;
  left: -28px; top: 50%; transform: translateY(-50%);
  width: 28px; height: 60px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-right: none;
  border-radius: 8px 0 0 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem; color: var(--text-muted);
  cursor: pointer;
  writing-mode: vertical-rl;
  gap: 4px;
}
.right-bar-title {
  font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em;
  color: var(--text-muted);
  padding: 0 18px 12px;
  border-bottom: 1px solid var(--border);
}
.hist-list { flex: 1; overflow-y: auto; padding: 12px 14px; display: flex; flex-direction: column; gap: 6px; }
.hist-item {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 8px 12px;
  font-size: 0.73rem;
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
  line-height: 1.4;
  display: flex; align-items: flex-start; gap: 7px;
}
.hist-item:hover { background: var(--bg-hover); border-color: var(--border-accent); color: var(--text-primary); }
.hist-idx {
  font-size: 0.62rem; font-weight: 700; color: var(--accent-light);
  flex-shrink: 0; margin-top: 1px;
}

/* â”€â”€ Thinking dots â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.thinking {
  display: flex; align-items: center; gap: 4px;
  padding: 6px 0;
}
.thinking span {
  width: 6px; height: 6px;
  background: var(--accent-light);
  border-radius: 50%;
  animation: tdot 1.2s ease-in-out infinite;
}
.thinking span:nth-child(2) { animation-delay:0.2s; }
.thinking span:nth-child(3) { animation-delay:0.4s; }
@keyframes tdot {0%,80%,100%{transform:scale(0.5);opacity:0.4;}40%{transform:scale(1);opacity:1;}}

/* â”€â”€ Responsive / utility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.text-xs    { font-size: 0.72rem; }
.text-muted { color: var(--text-muted); }
.gap-4      { gap: 4px; }
.flex-c     { display: flex; align-items: center; }
</style>
</head>
<body>

<!-- â•â•â• SIDEBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="sidebar">
  <div class="sidebar-logo-wrap">
    <div class="sidebar-logo">DC</div>
    <span class="sidebar-logo-name">DataChat</span>
  </div>

  <a class="nav-item active" href="#">
    <span class="nav-icon">ğŸ“Š</span>
    <span class="nav-label">Analytics</span>
  </a>
  <a class="nav-item" href="#">
    <span class="nav-icon">ğŸ’¬</span>
    <span class="nav-label">Chat</span>
  </a>
  <a class="nav-item" href="#">
    <span class="nav-icon">ğŸ“‚</span>
    <span class="nav-label">Datasets</span>
  </a>
  <a class="nav-item" href="#">
    <span class="nav-icon">ğŸ”—</span>
    <span class="nav-label">Connections</span>
  </a>
  <a class="nav-item" href="#">
    <span class="nav-icon">ğŸ“ˆ</span>
    <span class="nav-label">Reports</span>
  </a>

  <div class="nav-spacer"></div>
  <div class="nav-divider"></div>

  <a class="nav-item" href="#">
    <span class="nav-icon">âš™ï¸</span>
    <span class="nav-label">Settings</span>
  </a>
  <a class="nav-item" href="#">
    <span class="nav-icon">ğŸ“–</span>
    <span class="nav-label">Docs</span>
  </a>
</nav>

<!-- â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main class="main">

  <!-- Top Bar -->
  <header class="topbar">
    <div class="topbar-title">
      <span class="topbar-crumb">DataChat</span>
      <span class="text-muted">â€º</span>
      Analytics Dashboard
    </div>
    <div class="topbar-actions">
      <div class="status-pill status-online">
        <span class="status-dot"></span>LM Studio Â· Online
      </div>
      <button class="btn">ğŸ”„ Refresh</button>
      <button class="btn btn-primary">+ New Analysis</button>
      <div class="avatar">SA</div>
    </div>
  </header>

  <!-- Content -->
  <div class="content">

    <!-- â”€â”€ Natural Language Search â”€â”€ -->
    <section class="search-section">
      <div class="search-bar-wrap">
        <div class="search-glow"></div>
        <div class="search-bar">
          <span class="search-icon">âœ¦</span>
          <input class="search-input" type="text"
            placeholder="Ask anything about your data â€” e.g. 'Show monthly revenue trend by region'" />
          <div class="search-kbd">
            <span class="kbd">âŒ˜</span>
            <span class="kbd">K</span>
          </div>
          <button class="btn btn-primary" style="padding:7px 16px;font-size:0.78rem;">Ask â†µ</button>
        </div>
      </div>
      <div class="search-suggestions">
        <span class="suggestion-chip">ğŸ“ˆ Revenue trend over time</span>
        <span class="suggestion-chip">ğŸ·ï¸ Top 10 customers by sales</span>
        <span class="suggestion-chip">ğŸ” Missing values analysis</span>
        <span class="suggestion-chip">ğŸ”— Correlation heatmap</span>
        <span class="suggestion-chip">ğŸ“Š Distribution of key columns</span>
      </div>
    </section>

    <!-- â”€â”€ Stats Bar â”€â”€ -->
    <div class="stats-bar">
      <div class="stat-card">
        <div class="stat-icon blue">ğŸ—‚ï¸</div>
        <div>
          <div class="stat-value">47,320</div>
          <div class="stat-label">Total Rows</div>
          <div class="stat-delta delta-up">â†‘ 12% this session</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon indigo">ğŸ“‹</div>
        <div>
          <div class="stat-value">23</div>
          <div class="stat-label">Columns</div>
          <div class="stat-delta delta-none">6 numeric Â· 17 categorical</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon cyan">ğŸ’¾</div>
        <div>
          <div class="stat-value">3.4 MB</div>
          <div class="stat-label">File Size</div>
          <div class="stat-delta delta-up">CSV Â· UTF-8</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon amber">ğŸš«</div>
        <div>
          <div class="stat-value">182</div>
          <div class="stat-label">Null Count</div>
          <div class="stat-delta delta-up">â†“ 0.38% of cells</div>
        </div>
      </div>
    </div>

    <!-- â”€â”€ Main Grid â”€â”€ -->
    <div class="main-grid">

      <!-- LEFT: Data + Insights -->
      <div style="display:flex;flex-direction:column;gap:20px;">

        <!-- Upload Zone -->
        <div class="panel-card">
          <div class="panel-header">
            <div class="panel-title">ğŸ“ Data Source</div>
            <span class="panel-action">Change â€º</span>
          </div>

          <div class="upload-zone" onclick="this.style.borderColor='#6366f1'">
            <div class="upload-icon">â˜ï¸</div>
            <div class="upload-title">Drag & drop your file</div>
            <div class="upload-sub">or click to browse from your computer</div>
            <div class="upload-formats">
              <span class="format-chip">.CSV</span>
              <span class="format-chip">.XLSX</span>
              <span class="format-chip">.PARQUET</span>
              <span class="format-chip">.JSON</span>
            </div>
          </div>

          <div class="file-row">
            <span class="file-icon">ğŸ“„</span>
            <div>
              <div class="file-name">telco_customer_churn.csv</div>
              <div class="file-size">3.4 MB Â· 47,320 rows</div>
            </div>
            <div class="file-remove">âœ•</div>
          </div>

          <div class="schema-section">
            <div class="schema-label">Schema Â· Column Types</div>
            <div class="badges-grid">
              <span class="badge badge-cyan">customerID</span>
              <span class="badge badge-amber">gender</span>
              <span class="badge badge-cyan">tenure</span>
              <span class="badge badge-amber">PhoneService</span>
              <span class="badge badge-cyan">MonthlyCharges</span>
              <span class="badge badge-amber">Contract</span>
              <span class="badge badge-green">SeniorCitizen</span>
              <span class="badge badge-cyan">TotalCharges</span>
              <span class="badge badge-red">SignupDate</span>
              <span class="badge badge-amber">Churn</span>
            </div>
          </div>
        </div>

        <!-- Auto-Insights Accordion -->
        <div class="panel-card">
          <div class="panel-header">
            <div class="panel-title">ğŸ’¡ Auto-Insights <span class="panel-badge">5</span></div>
            <span class="panel-action">Refresh â†º</span>
          </div>
          <div class="insight-list" id="insightList">
            <div class="insight-item open" onclick="toggleInsight(this)">
              <div class="insight-header">
                <div class="insight-toggle">â–¾</div>
                <div class="insight-num">1</div>
                <div class="insight-q">Overall Dataset Statistics</div>
              </div>
              <div class="insight-body">
                The dataset contains <span class="insight-highlight">47,320 rows</span> and
                <span class="insight-highlight">23 columns</span>. Numeric columns show a mean
                tenure of 32.4 months and average monthly charges of $64.8. No duplicate
                customer IDs detected.
              </div>
            </div>
            <div class="insight-item" onclick="toggleInsight(this)">
              <div class="insight-header">
                <div class="insight-toggle">â–¸</div>
                <div class="insight-num">2</div>
                <div class="insight-q">Missing Values & Data Quality</div>
              </div>
              <div class="insight-body">
                <span class="insight-highlight">TotalCharges</span> has 11 nulls (0.02%) and
                <span class="insight-highlight">SignupDate</span> has 171 missing entries (0.36%).
                Recommend imputation or removal before modelling.
              </div>
            </div>
            <div class="insight-item" onclick="toggleInsight(this)">
              <div class="insight-header">
                <div class="insight-toggle">â–¸</div>
                <div class="insight-num">3</div>
                <div class="insight-q">Distribution of Target Column</div>
              </div>
              <div class="insight-body">
                Churn column is <span class="insight-highlight">imbalanced: 26.5%</span> churn
                vs 73.5% non-churn. Consider SMOTE or class-weight balancing for any ML task.
              </div>
            </div>
            <div class="insight-item" onclick="toggleInsight(this)">
              <div class="insight-header">
                <div class="insight-toggle">â–¸</div>
                <div class="insight-num">4</div>
                <div class="insight-q">Top Column Correlations</div>
              </div>
              <div class="insight-body">
                Strong positive correlation between <span class="insight-highlight">tenure â†” TotalCharges</span>
                (r = 0.83). Moderate negative correlation between <span class="insight-highlight">MonthlyCharges â†” Churn</span>
                (r = âˆ’0.19).
              </div>
            </div>
            <div class="insight-item" onclick="toggleInsight(this)">
              <div class="insight-header">
                <div class="insight-toggle">â–¸</div>
                <div class="insight-num">5</div>
                <div class="insight-q">Most Interesting Pattern</div>
              </div>
              <div class="insight-body">
                Customers on <span class="insight-highlight">month-to-month contracts</span> churn at
                42.7% â€” 4Ã— higher than those on 2-year contracts (11.3%). Contract type is the
                strongest single predictor in the dataset.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Visual Output + Chat -->
      <div class="visual-panel">

        <!-- Chart Area -->
        <div class="panel-card chart-area">
          <div class="panel-header">
            <div class="panel-title">ğŸ“ˆ Visual Output</div>
            <div class="flex-c" style="gap:8px;">
              <button class="btn" style="padding:5px 10px;font-size:0.7rem;">â¬‡ Export</button>
              <button class="btn" style="padding:5px 10px;font-size:0.7rem;">ğŸ”— Share</button>
            </div>
          </div>
          <div class="chart-tabs">
            <div class="chart-tab active">Bar Chart</div>
            <div class="chart-tab">Line</div>
            <div class="chart-tab">Scatter</div>
            <div class="chart-tab">Heatmap</div>
          </div>
          <div class="chart-body">
            <div style="font-size:0.72rem;color:var(--text-muted);margin-bottom:14px;">
              Monthly Revenue by Contract Type
              <span style="float:right;color:var(--accent-light);">Jan â€“ Dec 2024</span>
            </div>
            <div class="fake-chart">
              <div class="chart-grid-lines">
                <div class="grid-line">100k</div>
                <div class="grid-line">75k</div>
                <div class="grid-line">50k</div>
                <div class="grid-line">25k</div>
                <div class="grid-line">0</div>
              </div>
              <div class="bars-row">
                <div class="bar-group"><div class="bar b1" style="height:78%"><div class="bar-tooltip">$78.2k</div></div><div class="bar-label">Jan</div></div>
                <div class="bar-group"><div class="bar b2" style="height:65%"><div class="bar-tooltip">$65.8k</div></div><div class="bar-label">Feb</div></div>
                <div class="bar-group"><div class="bar b1" style="height:85%"><div class="bar-tooltip">$85.1k</div></div><div class="bar-label">Mar</div></div>
                <div class="bar-group"><div class="bar b3" style="height:72%"><div class="bar-tooltip">$72.4k</div></div><div class="bar-label">Apr</div></div>
                <div class="bar-group"><div class="bar b1" style="height:91%"><div class="bar-tooltip">$91.6k</div></div><div class="bar-label">May</div></div>
                <div class="bar-group"><div class="bar b2" style="height:83%"><div class="bar-tooltip">$83.4k</div></div><div class="bar-label">Jun</div></div>
                <div class="bar-group"><div class="bar b1" style="height:94%"><div class="bar-tooltip">$94.2k</div></div><div class="bar-label">Jul</div></div>
                <div class="bar-group"><div class="bar b3" style="height:88%"><div class="bar-tooltip">$88.0k</div></div><div class="bar-label">Aug</div></div>
                <div class="bar-group"><div class="bar b2" style="height:76%"><div class="bar-tooltip">$76.5k</div></div><div class="bar-label">Sep</div></div>
                <div class="bar-group"><div class="bar b1" style="height:98%"><div class="bar-tooltip">$98.3k</div></div><div class="bar-label">Oct</div></div>
                <div class="bar-group"><div class="bar b3" style="height:87%"><div class="bar-tooltip">$87.7k</div></div><div class="bar-label">Nov</div></div>
                <div class="bar-group"><div class="bar b2" style="height:100%"><div class="bar-tooltip">$102.1k</div></div><div class="bar-label">Dec</div></div>
              </div>
            </div>
            <!-- Legend -->
            <div class="flex-c" style="gap:16px;margin-top:8px;justify-content:center;">
              <div class="flex-c gap-4"><div style="width:10px;height:10px;border-radius:3px;background:var(--accent);"></div><span class="text-xs text-muted">Month-to-month</span></div>
              <div class="flex-c gap-4"><div style="width:10px;height:10px;border-radius:3px;background:var(--blue);"></div><span class="text-xs text-muted">One year</span></div>
              <div class="flex-c gap-4"><div style="width:10px;height:10px;border-radius:3px;background:var(--cyan);"></div><span class="text-xs text-muted">Two year</span></div>
            </div>
          </div>
        </div>

        <!-- Chat Panel -->
        <div class="panel-card chat-panel">
          <div class="panel-header">
            <div class="panel-title">ğŸ’¬ Conversation</div>
            <span class="panel-action">Clear âœ•</span>
          </div>
          <div class="chat-messages">
            <div class="chat-bubble-wrap-user">
              <div>
                <div class="chat-label chat-label-user">You</div>
                <div class="chat-bubble-user">Show monthly revenue broken down by contract type for 2024</div>
              </div>
            </div>
            <div class="chat-bubble-wrap-ai">
              <div>
                <div class="chat-label chat-label-ai">DataChat</div>
                <div class="chat-bubble-ai">
                  I've grouped TotalCharges by month and contract type. December peaks at
                  <strong style="color:var(--accent-light);">$102.1k</strong> 
                  â€” driven by month-to-month customers. Chart updated in the Visual Output panel.
                  <div class="code-snip">
<span class="kw">result</span> = df.<span class="fn">groupby</span>([<span class="str">'Month'</span>, <span class="str">'Contract'</span>])[<span class="str">'TotalCharges'</span>].<span class="fn">sum</span>().<span class="fn">reset_index</span>()
                  </div>
                </div>
              </div>
            </div>
            <div class="chat-bubble-wrap-user">
              <div>
                <div class="chat-label chat-label-user">You</div>
                <div class="chat-bubble-user">Which contract type has the highest churn rate?</div>
              </div>
            </div>
            <div class="chat-bubble-wrap-ai">
              <div>
                <div class="chat-label chat-label-ai">DataChat</div>
                <div class="chat-bubble-ai">
                  <div class="thinking"><span></span><span></span><span></span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="chat-input-bar">
            <input class="chat-input" type="text" placeholder="Ask about your dataâ€¦" />
            <button class="chat-send">â†‘</button>
          </div>
        </div>

      </div><!-- /visual-panel -->
    </div><!-- /main-grid -->
  </div><!-- /content -->
</main>

<!-- â•â•â• RIGHT BAR (Query History) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="right-bar">
  <div class="right-bar-handle">History</div>
  <div class="right-bar-title">Recent Queries</div>
  <div class="hist-list">
    <div class="hist-item"><span class="hist-idx">#5</span>Which contract type has the highest churn rate?</div>
    <div class="hist-item"><span class="hist-idx">#4</span>Show monthly revenue by contract type</div>
    <div class="hist-item"><span class="hist-idx">#3</span>What is the average tenure per segment?</div>
    <div class="hist-item"><span class="hist-idx">#2</span>Distribution of MonthlyCharges column</div>
    <div class="hist-item"><span class="hist-idx">#1</span>Any missing values in the dataset?</div>
  </div>
</div>

<script>
function toggleInsight(el) {
  const isOpen = el.classList.contains('open');
  document.querySelectorAll('.insight-item').forEach(i => {
    i.classList.remove('open');
    i.querySelector('.insight-toggle').textContent = 'â–¸';
  });
  if (!isOpen) {
    el.classList.add('open');
    el.querySelector('.insight-toggle').textContent = 'â–¾';
  }
}

// Chart tab switching
document.querySelectorAll('.chart-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.chart-tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
  });
});

// Suggestion chips fill search bar
document.querySelectorAll('.suggestion-chip').forEach(chip => {
  chip.addEventListener('click', () => {
    document.querySelector('.search-input').value = chip.textContent.replace(/^[^\w]+/, '');
    document.querySelector('.search-input').focus();
  });
});

// Simulate thinking -> response after 2s
setTimeout(() => {
  const dot = document.querySelector('.thinking');
  if (dot) {
    const bubble = dot.closest('.chat-bubble-ai');
    bubble.innerHTML = `Month-to-month contracts have a churn rate of <strong style="color:#f59e0b;">42.7%</strong> â€” 
    nearly 4Ã— higher than 2-year contracts at 11.3%. This is the strongest predictor in the dataset.
    <div class="code-snip"><span class="kw">churn_rate</span> = df.<span class="fn">groupby</span>(<span class="str">'Contract'</span>)[<span class="str">'Churn'</span>].<span class="fn">value_counts</span>(normalize=<span class="kw">True</span>)</div>`;
  }
}, 2200);
</script>
</body>
</html>
